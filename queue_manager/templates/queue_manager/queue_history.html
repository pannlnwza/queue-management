{% extends 'base.html' %}

{% block extra_head %}
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            background-color: #f0f2f5;
        }
        header {
            background-color: #1e2a3a;
            color: white;
            padding: 1rem;
        }
        main {
            padding: 1rem;
            width: 90%;
            margin: auto;
        }
    </style>
{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>Queue History</h1>

    <div class="mb-4">
        <h3>Queues You Created</h3>
        {% if created_queues %}
            <div class="list-group">
            {% for queue in created_queues %}
                <div class="list-group-item">
                    <h5 class="mb-1">{{ queue.name }}</h5>
                    <p class="mb-1">Code: {{ queue.code }}</p>
                    <p class="mb-1">Created: {{ queue.created_at }}</p>
                    <p class="mb-1">Status: {{ queue.status }}</p>
                    {% if queue.description %}
                        <p class="mb-1">Description: {{ queue.description }}</p>
                    {% endif %}
                </div>
            {% endfor %}
            </div>
        {% else %}
            <p>You haven't created any queues yet.</p>
        {% endif %}
    </div>

    <div>
        <h4>Queues You Joined</h4>
        {% if joined_queues %}
            <div class="list-group">
            {% for queue in joined_queues %}
                <div class="list-group-item">
                    <h3 class="mb-1">{{ queue.name }}</h3>
                    <p class="mb-1">Code: {{ queue.code }}</p>
                    <p class="mb-1">Created by: {{ queue.created_by.username }}</p>
                    <p class="mb-1">Status: {{ queue.participant_status }}</p>
                    {% if queue.description %}
                        <p class="mb-1">Description: {{ queue.description }}</p>
                    {% endif %}
                </div>
            {% endfor %}
            </div>
        {% else %}
            <p>You haven't joined any queues yet.</p>
        {% endif %}
    </div>
</div>
{% endblock %}